# ๐ค Telegram Video Downloader Bot

ุจูุช ุชูููุฌุฑุงู ูุชุญููู ุงูููุฏูููุงุช ูุงูุตูุฑ ูู ุฌููุน ุงูููุตุงุช ุงูุดููุฑุฉ ูุน ูุธุงู ุงุดุชุฑุงูุงุช ูุชูุงูู.

A Telegram bot for downloading videos and photos from all popular platforms with a complete subscription system.

---

## ๐ ุงููููุฒุงุช | Features

- โ ุชุญููู ูู YouTube, Facebook, Instagram, TikTok, Twitter/X, Pinterest, Reddit, Snapchat
- โ ุฏุนู ุงูููุฏูููุงุช ุญุชู 2GB (4GB ููุณุชุฎุฏูู Premium)
- โ ุฌูุฏุงุช ูุชุนุฏุฏุฉ (1080p, 720p, 480p, MP3)
- โ ุชุญููู ุณุชูุฑู Instagram (ุตูุฑ + ููุฏูููุงุช)
- โ ุชุญููู ุตูุฑ TikTok (Slideshows)
- โ ูุธุงู ุงุดุชุฑุงูุงุช ูุน ุทุฑู ุฏูุน ูุชุนุฏุฏุฉ
- โ ููุญุฉ ุชุญูู ูููุฉ ูููุฏูุฑ
- โ ุญุธุฑ ุงููุญุชูู ุงูุฅุจุงุญู ุชููุงุฆูุงู (ูุงุจู ููุชุญูู)
- โ ุฅุฏุงุฑุฉ ุฑูุงุจุท ูุญุธูุฑุฉ ูุฎุตุตุฉ
- โ ุฏุนู ุงููุบุชูู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- โ ูุธุงู Cookies ููููุตุงุช ุงููุญููุฉ
- โ ูููุงุช ุณุฌูุงุช (ููุฏูููุงุชุ ุฃุฎุทุงุกุ ุฃุนุถุงุก ุฌุฏุฏ)
- โ ุฏุนู ุงููุฌููุนุงุช ูุน ุฅุนุฏุงุฏุงุช ูุฎุตุตุฉ
- โ ุญุฏ ูููู ููุชุญูููุงุช (ูุงุจู ููุชุฎุตูุต)

---

## ๐ฆ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ | Requirements

### ูุธุงู ุงูุชุดุบูู
- Ubuntu/Debian Linux (ููุตู ุจู)
- ุฃู ุฃู ูุธุงู Linux ุขุฎุฑ
- ุฃู Raspberry Pi

### ุงูุจุฑุงูุฌ ุงููุทููุจุฉ
| ุงูุจุฑูุงูุฌ | ุงููุตู |
|----------|-------|
| Python 3.8+ | ูุบุฉ ุงูุจุฑูุฌุฉ |
| PostgreSQL 12+ | ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| FFmpeg | ููุนุงูุฌุฉ ุงูููุฏูู |
| pip3 | ูุฏูุฑ ุญุฒู Python |

---

## โ๏ธ ุงูุชุซุจูุช ุฎุทูุฉ ุจุฎุทูุฉ | Installation

### ๐น ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ุงููุธุงู ูุชุซุจูุช ุงููุชุทูุจุงุช

```bash
# ุชุญุฏูุซ ุงููุธุงู
sudo apt update && sudo apt upgrade -y

# ุชุซุจูุช Python ู pip
sudo apt install -y python3 python3-pip python3-venv

# ุชุซุจูุช PostgreSQL
sudo apt install -y postgresql postgresql-contrib

# ุชุซุจูุช FFmpeg (ููู ุฌุฏุงู ููุนุงูุฌุฉ ุงูููุฏูู)
sudo apt install -y ffmpeg

# ุชุซุจูุช git (ุงุฎุชูุงุฑู ูุงุณุชูุณุงุฎ ุงููุดุฑูุน)
sudo apt install -y git
```

### ๐น ุงูุฎุทูุฉ 2: ุงุณุชูุณุงุฎ ุงููุดุฑูุน (ุฅุฐุง ููุช ุชุญูู ูู GitHub)

```bash
git clone https://github.com/YOUR_USERNAME/bot-download-videos.git
cd bot-download-videos
```

ุฃู ูู ุจูู ุถุบุท ุงูููู ุงููุถุบูุท ุฅุฐุง ุญุตูุช ุนููู ุจุทุฑููุฉ ุฃุฎุฑู.

### ๐น ุงูุฎุทูุฉ 3: ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ (ุงุฎุชูุงุฑู ููู ููุตู ุจู)

```bash
python3 -m venv venv
source venv/bin/activate
```

### ๐น ุงูุฎุทูุฉ 4: ุชุซุจูุช ููุชุจุงุช Python

```bash
pip3 install -r requirements.txt
```

**ุงูููุชุจุงุช ุงูุชู ุณูุชู ุชุซุจูุชูุง:**
| ุงูููุชุจุฉ | ุงููุธููุฉ |
|---------|---------|
| `pyrogram` | ูุงุฌูุฉ ุจุฑูุฌุฉ Telegram |
| `tgcrypto` | ุชุดููุฑ ุณุฑูุน ูู Telegram |
| `python-dotenv` | ูุฑุงุกุฉ ููู `.env` |
| `psycopg2-binary` | ุงูุงุชุตุงู ุจู PostgreSQL |
| `yt-dlp` | ุชุญููู ุงูููุฏูููุงุช ูู ูุนุธู ุงูููุตุงุช |
| `gallery-dl` | ุชุญููู ุงูุตูุฑ ูุงูุณุชูุฑููุงุช |
| `instaloader` | ุชุญููู ุณุชูุฑู Instagram |
| `requests` | ุทูุจุงุช HTTP |

### ๐น ุงูุฎุทูุฉ 5: ุชุซุจูุช ุฃุฏูุงุช ุฅุถุงููุฉ (ุชุฑููุฉ)

```bash
# ุชุญุฏูุซ yt-dlp ูุฃุญุฏุซ ุฅุตุฏุงุฑ
pip3 install -U yt-dlp

# ุชุญุฏูุซ gallery-dl
pip3 install -U gallery-dl
```

---

## ๐ ุฅุนุฏุงุฏ PostgreSQL | PostgreSQL Setup

### ๐น ุงูุฎุทูุฉ 1: ุจุฏุก ุฎุฏูุฉ PostgreSQL

```bash
# ุจุฏุก ุงูุฎุฏูุฉ
sudo systemctl start postgresql

# ุชูุนูู ุงูุชุดุบูู ุงูุชููุงุฆู
sudo systemctl enable postgresql
```

### ๐น ุงูุฎุทูุฉ 2: ุฅูุดุงุก ุงููุณุชุฎุฏู ููุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุงูุฏุฎูู ูู PostgreSQL
sudo -u postgres psql
```

**ุณุชุธูุฑ ูู ููุฌู ุงูุฃูุงูุฑ:** `postgres=#`

**ุงูุณุฎ ูุงูุตู ุงูุฃูุงูุฑ ุงูุชุงููุฉ:**

```sql
-- ุฅูุดุงุก ูุณุชุฎุฏู (ุบููุฑ 'YOUR_PASSWORD' ุจูููุฉ ูุฑูุฑ ูููุฉ!)
CREATE USER bot_user WITH PASSWORD 'YOUR_PASSWORD';

-- ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
CREATE DATABASE telegram_bot;

-- ููุญ ุงูุตูุงุญูุงุช
GRANT ALL PRIVILEGES ON DATABASE telegram_bot TO bot_user;

-- ุงูุฎุฑูุฌ
\q
```

> โ๏ธ **ููู ุฌุฏุงู:** ุงุญูุธ ูููุฉ ุงููุฑูุฑ! ุณุชุญุชุงุฌูุง ูุงุญูุงู ูู ููู `.env`

### ๐น ุงูุฎุทูุฉ 3: ููุญ ุตูุงุญูุงุช ุฅุถุงููุฉ

```bash
sudo -u postgres psql -d telegram_bot
```

```sql
GRANT ALL ON SCHEMA public TO bot_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON TABLES TO bot_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON SEQUENCES TO bot_user;
\q
```

### ๐น ุงูุฎุทูุฉ 4: ุฅูุดุงุก ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
python3 setup_postgres.py
```

**ูุฌุจ ุฃู ุชุฑู:**
```
๐ง ุฅูุดุงุก ุงูุฌุฏุงูู...
โ ุฌุฏูู users
โ ุฌุฏูู settings
โ ุฌุฏูู payments
โ ุฌุฏูู daily_downloads
โ ุฌุฏูู blocked_urls
โ ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ
โ Indexes

โ ุชู ุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู ุจูุฌุงุญ!
```

---

## ๐ ุชูููู ููู .env | Environment Configuration

### ๐น ุงูุฎุทูุฉ 1: ูุณุฎ ููู ุงููุซุงู

```bash
cp env.example .env
```

### ๐น ุงูุฎุทูุฉ 2: ุชุญุฑูุฑ ููู .env

```bash
nano .env
```

### ๐น ุงูุฎุทูุฉ 3: ููุก ุงููุชุบูุฑุงุช

```env
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# Telegram Bot Configuration - ุฅุนุฏุงุฏ ุงูุจูุช
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ๐ ุงุญุตู ุนูู API_ID ู API_HASH ูู: https://my.telegram.org/apps
PYROGRAM_API_ID=12345678
PYROGRAM_API_HASH=0123456789abcdef0123456789abcdef

# ๐ค ุงุญุตู ุนูู BOT_TOKEN ูู: @BotFather
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# Admin Configuration - ูุนูููุงุช ุงููุฏูุฑ
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ๐ค ุฑููู ุงูุชุนุฑููู (ุงุญุตู ุนููู ูู @userinfobot)
ADMIN_ID=123456789

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# PostgreSQL Database - ูุงุนุฏุฉ ุงูุจูุงูุงุช
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=telegram_bot
POSTGRES_USER=bot_user
POSTGRES_PASSWORD=YOUR_PASSWORD  # <-- ูููุฉ ุงููุฑูุฑ ุงูุชู ุฃูุดุฃุชูุง

# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# Log Channels - ูููุงุช ุงูุณุฌูุงุช (ุงุฎุชูุงุฑู)
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ููุงุฉ ุณุฌูุงุช ุชุญููู ุงูููุฏูููุงุช
LOG_CHANNEL_ID=-1001234567890

# ููุงุฉ ุณุฌูุงุช ุงูุฃุฎุทุงุก
ERROR_LOG_CHANNEL_ID=-1001234567890

# ููุงุฉ ุฅุดุนุงุฑุงุช ุงูุฃุนุถุงุก ุงูุฌุฏุฏ
NEW_MEMBERS_CHANNEL_ID=-1001234567890
```

**ููู ุชุญุตู ุนูู ุงููุนูููุงุช ุงููุทููุจุฉ:**

| ุงููุชุบูุฑ | ููููุฉ ุงูุญุตูู ุนููู |
|---------|-------------------|
| `PYROGRAM_API_ID` | ุงุฐูุจ ุฅูู https://my.telegram.org/apps ูุฃูุดุฆ ุชุทุจูู |
| `PYROGRAM_API_HASH` | ููุณ ุงููููุน ุฃุนูุงู |
| `BOT_TOKEN` | ูู @BotFather ูู Telegram |
| `ADMIN_ID` | ุฃุฑุณู /start ูู @userinfobot |
| `LOG_CHANNEL_ID` | ID ููุงุชู ุงูุฎุงุตุฉ (ุฑูู ุณุงูุจ) |

**๐ก ููุญุตูู ุนูู ID ุงูููุงุฉ:**
1. ุฃูุดุฆ ููุงุฉ ุฎุงุตุฉ ูู Telegram
2. ุฃุถู ุงูุจูุช ููุฏูุฑ ูู ุงูููุงุฉ
3. ุฃุฑุณู ุฑุณุงูุฉ ูู ุงูููุงุฉ
4. ุงุณุชุฎุฏู @getidsbot ููุนุฑูุฉ ID ุงูููุงุฉ

### ๐น ุงูุฎุทูุฉ 4: ุญูุธ ุงูููู

ุงุถุบุท `Ctrl+X` ุซู `Y` ุซู `Enter`

---

## ๐ ุชุดุบูู ุงูุจูุช | Running the Bot

### ุงูุชุดุบูู ุงูุนุงุฏู (ููุงุฎุชุจุงุฑ)

```bash
python3 bot.py
```

**ูุฌุจ ุฃู ุชุฑู:**
```
โ ุชู ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ ุงูุจูุช ูุนูู ุงูุขู...
```

### ุฅููุงู ุงูุจูุช (Ctrl+C)

ุงุถุบุท `Ctrl+C` ูุฅููุงู ุงูุจูุช.

---

## ๐ ุชุดุบูู ุงูุจูุช 24/7 | Running 24/7

### ุงูุทุฑููุฉ 1: ุงุณุชุฎุฏุงู systemd (ุงูุฃูุถู)

#### ๐น ุฅูุดุงุก ููู ุงูุฎุฏูุฉ

```bash
sudo nano /etc/systemd/system/telegram-bot.service
```

#### ๐น ุฃุถู ุงููุญุชูู ุงูุชุงูู

```ini
[Unit]
Description=Telegram Video Downloader Bot
After=network.target postgresql.service

[Service]
Type=simple
User=YOUR_USERNAME
WorkingDirectory=/path/to/bot-download-videos
ExecStart=/usr/bin/python3 bot.py
Restart=always
RestartSec=10
StandardOutput=append:/var/log/telegram-bot/bot.log
StandardError=append:/var/log/telegram-bot/error.log

[Install]
WantedBy=multi-user.target
```

> โ๏ธ **ุบููุฑ:**
> - `YOUR_USERNAME` ุจุงุณู ุงููุณุชุฎุฏู ุงูุฎุงุต ุจู
> - `/path/to/bot-download-videos` ุจุงููุณุงุฑ ุงููุนูู ูููุดุฑูุน

#### ๐น ุฅูุดุงุก ูุฌูุฏ ุงูุณุฌูุงุช

```bash
sudo mkdir -p /var/log/telegram-bot
sudo chown $USER:$USER /var/log/telegram-bot
```

#### ๐น ุชูุนูู ูุชุดุบูู ุงูุฎุฏูุฉ

```bash
# ุฅุนุงุฏุฉ ุชุญููู systemd
sudo systemctl daemon-reload

# ุชูุนูู ุงูุชุดุบูู ุงูุชููุงุฆู
sudo systemctl enable telegram-bot

# ุชุดุบูู ุงูุจูุช
sudo systemctl start telegram-bot

# ุงูุชุญูู ูู ุงูุญุงูุฉ
sudo systemctl status telegram-bot
```

### ุงูุทุฑููุฉ 2: ุงุณุชุฎุฏุงู screen

```bash
# ุชุซุจูุช screen
sudo apt install screen

# ุฅูุดุงุก ุฌูุณุฉ ุฌุฏูุฏุฉ
screen -S bot

# ุชุดุบูู ุงูุจูุช
python3 bot.py

# ููุฎุฑูุฌ ูู ุงูุฌูุณุฉ ูุน ุฅุจูุงุก ุงูุจูุช ูุนูู
# ุงุถุบุท: Ctrl+A ุซู D

# ููุนูุฏุฉ ููุฌูุณุฉ
screen -r bot
```

### ุงูุทุฑููุฉ 3: ุงุณุชุฎุฏุงู nohup

```bash
# ุชุดุบูู ูู ุงูุฎูููุฉ
nohup python3 bot.py > bot.log 2>&1 &

# ููุนุฑูุฉ PID
pgrep -f "python3 bot.py"
```

---

## ๐ ุฃูุงูุฑ ุฅุฏุงุฑุฉ ุงูุจูุช | Management Commands

### ุนูุฏ ุงุณุชุฎุฏุงู systemd

| ุงูุฃูุฑ | ุงููุธููุฉ |
|-------|---------|
| `sudo systemctl start telegram-bot` | ุชุดุบูู ุงูุจูุช |
| `sudo systemctl stop telegram-bot` | ุฅููุงู ุงูุจูุช |
| `sudo systemctl restart telegram-bot` | ุฅุนุงุฏุฉ ุชุดุบูู ุงูุจูุช |
| `sudo systemctl status telegram-bot` | ุญุงูุฉ ุงูุจูุช |
| `sudo systemctl enable telegram-bot` | ุชูุนูู ุงูุชุดุบูู ุงูุชููุงุฆู |
| `sudo systemctl disable telegram-bot` | ุชุนุทูู ุงูุชุดุบูู ุงูุชููุงุฆู |

### ุนุฑุถ ุงูุณุฌูุงุช

```bash
# ุณุฌูุงุช ุงูุจูุช
sudo journalctl -u telegram-bot -f

# ุฃู ูู ููู ุงูุณุฌู
tail -f /var/log/telegram-bot/bot.log

# ุณุฌูุงุช ุงูุฃุฎุทุงุก
tail -f /var/log/telegram-bot/error.log

# ุณุฌูุงุช ุงูุจูุช ุงููุญููุฉ
tail -f bot_standalone.log
```

### ุนูุฏ ุงุณุชุฎุฏุงู nohup

| ุงูุฃูุฑ | ุงููุธููุฉ |
|-------|---------|
| `pgrep -f "python3 bot.py"` | ูุนุฑูุฉ PID |
| `pkill -f "python3 bot.py"` | ุฅููุงู ุงูุจูุช |
| `tail -f bot.log` | ุนุฑุถ ุงูุณุฌูุงุช |

### ุนูุฏ ุงุณุชุฎุฏุงู screen

| ุงูุฃูุฑ | ุงููุธููุฉ |
|-------|---------|
| `screen -r bot` | ุงูุฏุฎูู ููุฌูุณุฉ |
| `screen -ls` | ุนุฑุถ ุงูุฌูุณุงุช |
| `Ctrl+A ุซู D` | ุงูุฎุฑูุฌ ูู ุงูุฌูุณุฉ |
| `Ctrl+C` (ุฏุงุฎู ุงูุฌูุณุฉ) | ุฅููุงู ุงูุจูุช |

---

## ๐ช ุฅุนุฏุงุฏ Cookies (ุงุฎุชูุงุฑู) | Cookies Setup

ุจุนุถ ุงูููุตุงุช ุชุชุทูุจ ุชุณุฌูู ุฏุฎูู. ููููู ุฅุถุงูุฉ Cookies ูู ุงููุชุตูุญ.

### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุฌูุฏ Cookies

```bash
mkdir -p cookies
```

### ุงูุฎุทูุฉ 2: ุชุตุฏูุฑ Cookies ูู ุงููุชุตูุญ

1. ุซุจุช ุฅุถุงูุฉ "Get cookies.txt LOCALLY" ูู Chrome/Firefox
2. ุณุฌู ุฏุฎูู ููููุตุฉ ุงููุทููุจุฉ
3. ุงููุฑ ุนูู ุงูุฅุถุงูุฉ ูุงุฎุชุฑ "Export"
4. ุงุญูุธ ุงูููู ุจุงูุงุณู ุงูููุงุณุจ:

| ุงูููุตุฉ | ุงุณู ุงูููู |
|--------|-----------|
| Instagram | `cookies/instagram.txt` |
| Facebook | `cookies/facebook.txt` |
| YouTube | `cookies/youtube.txt` |
| TikTok | `cookies/tiktok.txt` |
| Twitter | `cookies/twitter.txt` |
| Pinterest | `cookies/pinterest.txt` |

> โ๏ธ ูุง ุชุฑูุน ูููุงุช Cookies ุฅูู GitHub!

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก | Troubleshooting

### โ ุฎุทุฃ: "FATAL: password authentication failed"

**ุงูุณุจุจ:** ูููุฉ ูุฑูุฑ PostgreSQL ุฎุงุทุฆุฉ

**ุงูุญู:**
```bash
# ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
sudo -u postgres psql
ALTER USER bot_user WITH PASSWORD 'new_password';
\q

# ุซู ุญุฏุซ .env
nano .env
```

---

### โ ุฎุทุฃ: "FATAL: database does not exist"

**ุงูุณุจุจ:** ูุงุนุฏุฉ ุงูุจูุงูุงุช ุบูุฑ ููุฌูุฏุฉ

**ุงูุญู:**
```bash
sudo -u postgres psql
CREATE DATABASE telegram_bot;
GRANT ALL PRIVILEGES ON DATABASE telegram_bot TO bot_user;
\q
```

---

### โ ุฎุทุฃ: "permission denied for schema public"

**ุงูุณุจุจ:** ุตูุงุญูุงุช ุบูุฑ ูุงููุฉ

**ุงูุญู:**
```bash
sudo -u postgres psql -d telegram_bot
GRANT ALL ON SCHEMA public TO bot_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON TABLES TO bot_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON SEQUENCES TO bot_user;
\q
```

---

### โ ุฎุทุฃ: "could not connect to server"

**ุงูุณุจุจ:** ุฎุฏูุฉ PostgreSQL ุบูุฑ ูุดุบูุฉ

**ุงูุญู:**
```bash
sudo systemctl start postgresql
sudo systemctl status postgresql
```

---

### โ ุฎุทุฃ: "No module named 'pyrogram'"

**ุงูุณุจุจ:** ุงูููุชุจุงุช ุบูุฑ ูุซุจุชุฉ

**ุงูุญู:**
```bash
pip3 install -r requirements.txt
```

---

### โ ุฎุทุฃ: "FileNotFoundError: gallery-dl"

**ุงูุณุจุจ:** gallery-dl ุบูุฑ ูุซุจุช

**ุงูุญู:**
```bash
pip3 install gallery-dl
# ุฃู
pip3 install -U gallery-dl
```

---

### โ ุฎุทุฃ: "ModuleNotFoundError: No module named 'instaloader'"

**ุงูุณุจุจ:** instaloader ุบูุฑ ูุซุจุช

**ุงูุญู:**
```bash
pip3 install instaloader
```

---

### โ ุฎุทุฃ: yt-dlp ูุง ูุนูู ูุน ุจุนุถ ุงูููุตุงุช

**ุงูุณุจุจ:** ูุณุฎุฉ ูุฏููุฉ

**ุงูุญู:**
```bash
pip3 install -U yt-dlp
```

---

### โ ุฎุทุฃ: "PEER_ID_INVALID" ูููููุงุช

**ุงูุณุจุจ:** ุงูุจูุช ูู ูุชูุงุนู ูุน ุงูููุงุฉ ุจุนุฏ

**ุงูุญู:**
1. ุฃุถู ุงูุจูุช ููุฏูุฑ ูู ุงูููุงุฉ
2. ุฃุฑุณู ุฃู ุฑุณุงูุฉ ูู ุงูููุงุฉ
3. ุฃุนุฏ ุชุดุบูู ุงูุจูุช

---

### โ ุงูุจูุช ูุง ูุฑุณู ูููููุงุช

**ุงูุณุจุจ:** ุงูุจูุช ููุณ ูุฏูุฑ ุฃู ูุง ูููู ุตูุงุญูุงุช

**ุงูุญู:**
- ุชุฃูุฏ ุฃู ุงูุจูุช ูุฏูุฑ ูู ุงูููุงุฉ
- ุชุฃูุฏ ุฃู ุงูุจูุช ูููู ุตูุงุญูุฉ "ุฅุฑุณุงู ุฑุณุงุฆู"

---

## ๐ฑ ุฃูุงูุฑ ุงูุจูุช | Bot Commands

### ูููุณุชุฎุฏููู
| ุงูุฃูุฑ | ุงููุธููุฉ |
|-------|---------|
| `/start` | ุจุฏุก ุงูุจูุช |
| `/help` | ุงููุณุงุนุฏุฉ |
| `/language` | ุชุบููุฑ ุงููุบุฉ |
| `/subscribe` | ุงูุงุดุชุฑุงู |
| `/mystatus` | ุญุงูุฉ ุงูุงุดุชุฑุงู |

### ูููุฏูุฑ
| ุงูุฃูุฑ | ุงููุธููุฉ |
|-------|---------|
| `/admin` | ููุญุฉ ุงูุชุญูู |
| `/stats` | ุงูุฅุญุตุงุฆูุงุช |
| `/logs` | ุงูุณุฌูุงุช |
| `/broadcast` | ุฑุณุงูุฉ ุฌูุงุนูุฉ |
| `/update_ytdlp` | ุชุญุฏูุซ yt-dlp |

---

## ๐ ูููู ุงููุดุฑูุน | Project Structure

```
bot-download-videos/
โโโ ๐ bot.py                 # ููู ุงูุจูุช ุงูุฑุฆูุณู
โโโ ๐ subscription_db.py     # ูุธุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุงุดุชุฑุงูุงุช
โโโ ๐ translations.py        # ุชุฑุฌูุงุช ุงููุบุงุช
โโโ ๐ queue_manager.py       # ุฅุฏุงุฑุฉ ูุงุฆูุฉ ุงูุงูุชุธุงุฑ
โโโ ๐ pg_backup.py           # ูุณุฎ ุงุญุชูุงุทู ููุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ ๐ setup_postgres.py      # ุฅุนุฏุงุฏ ุฌุฏุงูู PostgreSQL
โโโ ๐ requirements.txt       # ุงูููุชุจุงุช ุงููุทููุจุฉ
โโโ ๐ env.example            # ูุซุงู ููู ุงูุฅุนุฏุงุฏุงุช
โโโ ๐ .gitignore            # ุงููููุงุช ุงููุชุฌุงููุฉ ูู Git
โโโ ๐ cookies/               # ูููุงุช Cookies (ูุง ุชุฑูุนูุง!)
โ   โโโ instagram.txt
โ   โโโ facebook.txt
โ   โโโ ...
โโโ ๐ downloads/             # ูููุงุช ุงูุชุญููู ุงููุคูุชุฉ
```

---

## ๐พ ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ | Backup & Restore

### ๐ ูุง ูู ููู ุงููุณุฎ ุงูุงุญุชูุงุทูุ

ููู `.sql` ูุญุชูู ุนูู ุฌููุน ุจูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- ุงูุฃุนุถุงุก ุงููุณุฌููู
- ุงูุฅุนุฏุงุฏุงุช
- ุณุฌูุงุช ุงูุฏููุนุงุช
- ุงูุฑูุงุจุท ุงููุญุธูุฑุฉ

### ๐ฅ ุฃูู ุฃุถุน ููู ุงููุณุฎ ุงูุงุญุชูุงุทูุ

ุถุน ููู `.sql` (ูุซู `backup_postgres_20251207_134242.sql`) ูู:
```
ุงููุฌูุฏ ุงูุฑุฆูุณู ูููุดุฑูุน/
โโโ backup_postgres_XXXXXXXX.sql  โ ููุง!
โโโ bot.py
โโโ .env
โโโ ...
```

ุฃู ุฃู ููุงู ุชุฑูุฏูุ ุงูููู ุชุนุฑู ุงููุณุงุฑ.

### ๐ ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช ูู ุงููุณุฎ ุงูุงุญุชูุงุทู

#### ุงูุทุฑููุฉ 1: ุฎุทูุฉ ุจุฎุทูุฉ (ูููุจุชุฏุฆูู)

```bash
# 1. ุฃููุงูุ ุฃูุดุฆ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ (ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ)
sudo -u postgres psql
CREATE DATABASE telegram_bot;
CREATE USER bot_user WITH PASSWORD 'ูููุฉ_ุงููุฑูุฑ';
GRANT ALL PRIVILEGES ON DATABASE telegram_bot TO bot_user;
\q

# 2. ุงููุญ ุงูุตูุงุญูุงุช ุงูุฅุถุงููุฉ
sudo -u postgres psql -d telegram_bot
GRANT ALL ON SCHEMA public TO bot_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON TABLES TO bot_user;
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT ALL ON SEQUENCES TO bot_user;
\q

# 3. ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช ูู ููู ุงููุณุฎ ุงูุงุญุชูุงุทู
# ุงุณุชุจุฏู "backup_file.sql" ุจุงุณู ูููู ุงููุนูู
sudo -u postgres psql -d telegram_bot < backup_file.sql
```

#### ุงูุทุฑููุฉ 2: ุฃูุงูุฑ ูุจุงุดุฑุฉ

```bash
# ุฅุฐุง ูุงู ุงูููู ูู ูุฌูุฏ ุงููุดุฑูุน
cd "/path/to/bot-download-videos"
sudo -u postgres psql -d telegram_bot < backup_postgres_20251207_134242.sql

# ุฃู ุฅุฐุง ูุงู ุงูููู ูู ููุงู ุขุฎุฑ
sudo -u postgres psql -d telegram_bot < /path/to/backup_file.sql
```

### โ ุงูุชุญูู ูู ูุฌุงุญ ุงูุงุณุชุนุงุฏุฉ

```bash
# ุงูุฏุฎูู ููุงุนุฏุฉ ุงูุจูุงูุงุช
sudo -u postgres psql -d telegram_bot

# ุนุฑุถ ุงูุฌุฏุงูู
\dt

# ุนุฑุถ ุนุฏุฏ ุงูุฃุนุถุงุก
SELECT COUNT(*) FROM users;

# ุนุฑุถ ุงูุฅุนุฏุงุฏุงุช
SELECT * FROM settings;

# ุงูุฎุฑูุฌ
\q
```

### ๐ค ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุฌุฏูุฏุฉ

```bash
# ูุณุฎ ุงุญุชูุงุทู ูุฏูู
pg_dump -U bot_user -h localhost telegram_bot > backup_$(date +%Y%m%d_%H%M%S).sql

# ุฃู ุนุจุฑ ุงูุจูุช
# ูู ููุญุฉ ุงูุชุญูู โ ูุณุฎ ุงุญุชูุงุทู
```

### ๐ ุชุบููุฑ ูููุฉ ูุฑูุฑ PostgreSQL

```bash
# 1. ุงูุฏุฎูู ูู PostgreSQL
sudo -u postgres psql

# 2. ุชุบููุฑ ูููุฉ ุงููุฑูุฑ
ALTER USER bot_user WITH PASSWORD 'ูููุฉ_ุงููุฑูุฑ_ุงูุฌุฏูุฏุฉ';

# 3. ุงูุฎุฑูุฌ
\q

# 4. ุชุญุฏูุซ ููู .env ุจูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ
nano .env
# ุบููุฑ ุณุทุฑ: POSTGRES_PASSWORD=ูููุฉ_ุงููุฑูุฑ_ุงูุฌุฏูุฏุฉ
```

### โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ูุง ุชุณุชุนูุฏ ูุณุฎุฉ ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ูููุง ุจูุงูุงุช** - ุณุชูุญุฐู ุงูุจูุงูุงุช ุงููุฏููุฉ
2. **ุงุญูุธ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ูู ููุงู ุขูู** - ุฎุงุฑุฌ ุงููุดุฑูุน
3. **ูุง ุชุฑูุน ูููุงุช `.sql` ุฅูู GitHub** - ุชุญุชูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏููู

---

## ๐ ุงูุฃูุงู | Security

> โ๏ธ **ุชุญุฐูุฑุงุช ุฃูููุฉ:**

1. **ูุง ุชุดุงุฑู ููู `.env` ุฃุจุฏุงู** - ูุญุชูู ุนูู ูููุงุช ุงููุฑูุฑ
2. **ูุง ุชุฑูุน ูููุงุช Cookies** - ุชุญุชูู ุนูู ุฌูุณุงุช ุชุณุฌูู ุงูุฏุฎูู
3. **ูุง ุชุฑูุน ูููุงุช `.session`** - ุชุญุชูู ุนูู ุฌูุณุฉ ุงูุจูุช
4. **ุงุณุชุฎุฏู ูููุงุช ูุฑูุฑ ูููุฉ** ููุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ ุงูุชุญุฏูุซุงุช | Updates

### ุชุญุฏูุซ yt-dlp

```bash
pip3 install -U yt-dlp
```

### ุชุญุฏูุซ ุฌููุน ุงูููุชุจุงุช

```bash
pip3 install -U -r requirements.txt
```

### ุชุญุฏูุซ ุงูุจูุช ูู GitHub

```bash
git pull origin main
pip3 install -r requirements.txt
sudo systemctl restart telegram-bot
```

---

## ๐ ุงูุชุฑุฎูุต | License

MIT License

---

## ๐จโ๐ป ุงููุทูุฑ | Developer

ุชู ุงูุชุทููุฑ ุจูุงุณุทุฉ **Wahab**

---

## ๐ ุงูุฏุนู | Support

ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉ:
1. ุฑุงุฌุน ูุณู "ุงุณุชูุดุงู ุงูุฃุฎุทุงุก"
2. ุชุญูู ูู ุงูุณุฌูุงุช: `tail -f bot_standalone.log`
3. ุชุฃูุฏ ูู ุชุดุบูู PostgreSQL: `sudo systemctl status postgresql`

---

**๐ ุงุณุชูุชุน ุจุงูุจูุช!**
